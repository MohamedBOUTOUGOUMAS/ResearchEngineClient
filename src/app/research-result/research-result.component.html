<div class="container-fluid">

  <div class="row">
    <div class="col-lg-3">
      <div class="mt-3">
        <a [routerLink]="['/']"
           style="display: flex; align-items: center;justify-content: center;">
          <img src="../../assets/Logo_UPMC.png" width="60%" height="10%">
        </a>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="container mt-3">
        <app-form-research></app-form-research>
        <div class="card text-center mt-3">
          <h3 class="card-header">Résultats de la recherche</h3>
          <div class="card-body" style="text-align: justify">
            <ul style="list-style-type: none;">
              <ng-container *ngFor="let searchResult of pageOfItems">
                <li *ngIf="searchResult.book.title"
                    style="margin-bottom: 10px; padding: 10px; border: 1px solid #e1e1e1">
                  <a class="text-dark"
                     href=""
                     (click)="showDetails === searchResult.book.fileName ?
                  showDetails = null : showDetails = searchResult.book.fileName;
                  $event.preventDefault()">
                    {{searchResult.book.title}}</a>
                  <div class="container"
                       *ngIf="showDetails === searchResult.book.fileName"
                       style="margin-top: 10px">
                    <p class="blockquote-footer">Author: {{searchResult.book.author}}</p>
                    <p class="blockquote-footer">Release date: {{searchResult.book.releaseDate}}</p>
                    <a class="text-primary"
                       [routerLink]="['/search/book']"
                       [queryParams]="{ fileName: searchResult.book.fileName, pattern: pattern}">
                      Lire le livre</a>
                    <app-suggestions [fileName]="searchResult.book.fileName" [pattern]="pattern" ></app-suggestions>
                  </div>
                </li>
              </ng-container>

              <div *ngIf="requestStatus === 0"
                   class="d-flex justify-content-center">
                <div class="spinner-border spinner-border-sm" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div>

              <div *ngIf="(!pageOfItems || pageOfItems.length === 0) && requestStatus === 1" class="card">
                <div class="card-body">
                  Aucun résultat trouvé pour "{{pattern}}"
                </div>
              </div>
            </ul>
          </div>
          <div class="card-footer pb-0 pt-3">
            <app-jw-pagination [pageSize]="50" [items]="searchResults" (changePage)="onChangePage($event)"></app-jw-pagination>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3"></div>
  </div>

</div>
